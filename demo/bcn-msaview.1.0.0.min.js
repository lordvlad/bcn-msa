!function e(s,o,t){function r(f,i){if(!o[f]){if(!s[f]){var l="function"==typeof require&&require;if(!i&&l)return l(f,!0);if(n)return n(f,!0);var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c}var u=o[f]={exports:{}};s[f][0].call(u.exports,function(e){var o=s[f][1][e];return r(o?o:e)},u,u.exports,e,s,o,t)}return o[f].exports}for(var n="function"==typeof require&&require,f=0;f<t.length;f++)r(t[f]);return r}({"./src/index.js":[function(e){function s(e,s,o){return"undefined"!=typeof e&&e>o?0|e:"undefined"!=typeof s&&o>s?0|s:0|o}function o(e,f){function c(){return B?B:A?B=Promise.all([v.getLines(A.offsetY,A.offsetY+A.height),v.getSize()]).then(function(e){q=e[0],A.alignment=e[1].alignment,A.count=e[1].sequenceCount,A.sequenceWidth=e[1].sequenceWidth,x.maxX=l(A.sequenceWidth*L)-M+f.labelWidth+f.leftMargin,x.maxY=(e[1].sequenceCount-A.height)*f.lineHeight-O,A.lastOffsetY=A.offsetY,B=!1,setTimeout(j,10)}):Promise.resolve()}function u(e){if(!B){if(w=b.getBoundingClientRect(),dx=0|e.deltaX,dy=0|e.deltaY,i)return dx=10*dx|0,dy=10*dy|0,console.log(e);x.lastX=x.x,x.lastY=x.y,x.x=s(0,x.maxX,x.x+dx),x.y=s(0,x.maxY,x.y+dy),j()}}function d(){_=null,j()}function a(e){w=b.getBoundingClientRect(),_={left:_&&_.left,right:_&&_.right,middle:_&&_.middle,y:e.clientY-w.top,x:e.clientX-w.left},j()}function m(e){if(_){switch(e.which){case 1:_.left=!0;break;case 3:_.right=!0;break;case 2:_.middle=!0}_.middle&&(x.pan={x:_.x,y:_.y}),_.left&&(A.mark={sx:_.sx,sy:_.sy}),j()}}function h(e){switch(_.middle&&(x.pan=null),e.which){case 1:_.left=!1;break;case 3:_.right=!1;break;case 2:_.middle=!1}j()}function j(){return C?null:requestAnimationFrame(p)}function p(){C=!1;var e,o,t,r,n,i,l,u,d=q.length,a=_&&_.sx<A.offsetX,m=!0,h=!0;if(_&&_.middle&&(x.x=s(0,x.maxX,x.x+(_.x-x.pan.x)/10),x.y=s(0,x.maxY,x.y+(_.y-x.pan.y)/10),C=!0),A.offsetX=x.x/L|0,A.offsetY=x.y/P|0,_&&(_.sx=(_.x-A.seqOffset)/L+A.offsetX|0,_.sy=_.y/P-2+A.offsetY|0),B||A.offsetY===A.lastOffsetY||c(),e=0,o=0,x.lastY===x.y&&(e=A.seqOffset,m=!1),x.lastX===x.x&&(o=P,h=!1),y.clearRect(e,o,M,O),B&&y.fillText(f.loadingText,S,P),h)for(e=0|A.seqOffset,o=2*P|0,t=A.offsetX+1|0,r=0;M>e;)2===r&&(r=1),0===r?(y.fillText(t,e,o),r=2):t%10===0?(y.fillText(t+"",e,o),r=5):t%5===0&&(y.fillText(".",e,o),r=5),t=t+r|0,e=e+r*L|0;if(d){for(e=A.seqOffset-L/4|0,t=0|A.offsetX;M>e;){for(o=1.3*P|0,r=0,u=0|P,i=0[0];r!==d;)n=q[r]&&q[r].sequence[t],l=g[n],l===i?u=u+P|0:(i&&(y.fillStyle=i,y.fillRect(e,o,L,u)),o=o+u|0,u=0|P),i=l,r=r+1|0;i&&(y.fillStyle=i,y.fillRect(e,o,L,u)),e=e+L|0,t=t+1|0}for(y.fillStyle="black",o=3*P|0,t=0;n=q[t];){for(e=0|A.seqOffset,r=0|A.offsetX;(i=n.sequence[r])&&M>e;)y.fillText(i,e,o),r=r+1|0,e=e+L|0;m&&(a&&_.sy===A.offsetY+t?(y.save(),y.fillStyle="rgb(255, 255, 255)",y.fillRect(S,o-P+2,M,P+4),y.restore(),y.fillText(n.label,S,o)):y.fillText(n.label.substr(0,A.labelTruncate),S,o)),t=t+1|0,o=o+P|0}}}f=r({},o.defaultOptions,e.dataset,f),e.msaview=this;var b=document.createElement("canvas");e.appendChild(b);var g=n.getColor(f.colorScheme),x={x:0,y:0,maxX:0,maxY:0},v=new t(e.dataset.alignment),y=b.getContext("2d"),w=null,_=null,B=!1,C=!1,F=null,L=null,P=f.lineHeight,T=f.letterSpacing,E=f.labelWidth,S=f.leftMargin;"bcnMsaFullscreen"in f&&(e.style.width=e.style.height="100%"),b.width=e.offsetWidth,b.height=e.offsetHeight;var O=b.clientHeight,M=b.clientWidth;"onwheel"in b?b.addEventListener("wheel",u):"onmousewheel"in b&&b.addEventListener("mousewheel",u),b.addEventListener("mousemove",a),b.addEventListener("mouseleave",d),b.addEventListener("mousedown",m),b.addEventListener("mouseup",h),b.addEventListener("contextmenu",function(e){e.preventDefault()}),this.setFont=function(e){y.font=e,F=y.measureText("x").width+1|0,L=F+T|0,w=b.getBoundingClientRect()},this.setFont(f.font);var q=[],A={height:l(O/P)-4|0,seqOffset:E+T+S|0,labelTruncate:(E-S)/(F-1)|0};c()}{var t=(e("./request"),e("./MSASource")),r=e("extend"),n=e("biojs-util-colorschemes").selector,f=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,i="undefined"!=typeof InstallTrigger,l=(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,!!window.chrome&&!f,!1||!!document.documentMode,Math.floor.bind(Math));Math.ceil.bind(Math)}o.defaultOptions={font:"12px monospace",lineHeight:14,labelWidth:100,leftMargin:20,letterSpacing:8,cursorColor:"rgba(128, 128, 128, 0.2)",loadingText:"loading...",colorScheme:"clustal2"},"function"==typeof define&&define.amd?define(o):window.MSAView=o},{"./MSASource":"/home/wre/dev/js/msa/src/MSASource.js","./request":"/home/wre/dev/js/msa/src/request.js","biojs-util-colorschemes":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/index.js",extend:"/home/wre/dev/js/msa/node_modules/extend/index.js"}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/index.js":[function(e,s){s.exports=e("./src/index.js")},{"./src/index.js":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/index.js"}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/buried.js":[function(e,s){s.exports={A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/cinema.js":[function(e,s){s.exports={A:"#BBBBBB",B:"grey",C:"yellow",D:"red",E:"red",F:"magenta",G:"brown",H:"#00FFFF",I:"#BBBBBB",J:"#fff",K:"#00FFFF",L:"#BBBBBB",M:"#BBBBBB",N:"green",O:"#fff",P:"brown",Q:"green",R:"#00FFFF",S:"green",T:"green",U:"#fff",V:"#BBBBBB",W:"magenta",X:"grey",Y:"magenta",Z:"grey",Gap:"grey"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/clustal.js":[function(e,s){s.exports={A:"orange",B:"#fff",C:"green",D:"red",E:"red",F:"blue",G:"orange",H:"red",I:"green",J:"#fff",K:"red",L:"green",M:"green",N:"#fff",O:"#fff",P:"orange",Q:"#fff",R:"red",S:"orange",T:"orange",U:"#fff",V:"green",W:"blue",X:"#fff",Y:"blue",Z:"#fff",Gap:"#fff"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/clustal2.js":[function(e,s){s.exports={A:"#80a0f0",R:"#f01505",N:"#00ff00",D:"#c048c0",C:"#f08080",Q:"#00ff00",E:"#c048c0",G:"#f09048",H:"#15a4a4",I:"#80a0f0",L:"#80a0f0",K:"#f01505",M:"#80a0f0",F:"#80a0f0",P:"#ffff00",S:"#00ff00",T:"#00ff00",W:"#80a0f0",Y:"#15a4a4",V:"#80a0f0",B:"#fff",X:"#fff",Z:"#fff"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/helix.js":[function(e,s){s.exports={A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/hydrophobicity.js":[function(e,s){s.exports={A:"#ad0052",B:"#0c00f3",C:"#c2003d",D:"#0c00f3",E:"#0c00f3",F:"#cb0034",G:"#6a0095",H:"#1500ea",I:"#ff0000",J:"#fff",K:"#0000ff",L:"#ea0015",M:"#b0004f",N:"#0c00f3",O:"#fff",P:"#4600b9",Q:"#0c00f3",R:"#0000ff",S:"#5e00a1",T:"#61009e",U:"#fff",V:"#f60009",W:"#5b00a4",X:"#680097",Y:"#4f00b0",Z:"#0c00f3"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/index.js":[function(e,s){s.exports.selector=e("./selector"),s.exports.taylor=e("./taylor"),s.exports.zappo=e("./zappo"),s.exports.hydro=e("./hydrophobicity"),s.exports.clustal=e("./clustal"),s.exports.clustal2=e("./clustal2"),s.exports.curied=e("./buried"),s.exports.cinema=e("./cinema"),s.exports.nucleotide=e("./nucleotide"),s.exports.helix=e("./helix"),s.exports.lesk=e("./lesk"),s.exports.mae=e("./mae"),s.exports.purine=e("./purine"),s.exports.strand=e("./strand"),s.exports.turn=e("./turn")},{"./buried":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/buried.js","./cinema":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/cinema.js","./clustal":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/clustal.js","./clustal2":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/clustal2.js","./helix":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/helix.js","./hydrophobicity":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/hydrophobicity.js","./lesk":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/lesk.js","./mae":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/mae.js","./nucleotide":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/nucleotide.js","./purine":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/purine.js","./selector":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/selector.js","./strand":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/strand.js","./taylor":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/taylor.js","./turn":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/turn.js","./zappo":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/zappo.js"}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/lesk.js":[function(e,s){s.exports={A:" orange",B:" #fff",C:" green",D:" red",E:" red",F:" green",G:" orange",H:" magenta",I:" green",J:" #fff",K:" red",L:" green",M:" green",N:" magenta",O:" #fff",P:" green",Q:" magenta",R:" red",S:" orange",T:" orange",U:" #fff",V:" green",W:" green",X:" #fff",Y:" green",Z:" #fff",Gap:" #fff"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/mae.js":[function(e,s){s.exports={A:" #77dd88",B:" #fff",C:" #99ee66",D:" #55bb33",E:" #55bb33",F:" #9999ff",G:" #77dd88",H:" #5555ff",I:" #66bbff",J:" #fff",K:" #ffcc77",L:" #66bbff",M:" #66bbff",N:" #55bb33",O:" #fff",P:" #eeaaaa",Q:" #55bb33",R:" #ffcc77",S:" #ff4455",T:" #ff4455",U:" #fff",V:" #66bbff",W:" #9999ff",X:" #fff",Y:" #9999ff",Z:" #fff",Gap:" #fff"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/nucleotide.js":[function(e,s){s.exports={A:" #64F73F",C:" #FFB340",G:" #EB413C",T:" #3C88EE",U:" #3C88EE"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/purine.js":[function(e,s){s.exports={A:" #FF83FA",C:" #40E0D0",G:" #FF83FA",R:" #FF83FA",T:" #40E0D0",U:" #40E0D0",Y:" #40E0D0"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/selector.js":[function(e,s){var o=e("./buried"),t=e("./cinema"),r=e("./clustal"),n=e("./clustal2"),f=e("./helix"),i=e("./hydrophobicity"),l=e("./lesk"),c=e("./mae"),u=e("./nucleotide"),d=e("./purine"),a=e("./strand"),m=e("./taylor"),h=e("./turn"),j=e("./zappo");s.exports=Colors={mapping:{buried:o,buried_index:o,cinema:t,clustal2:n,clustal:r,helix:f,helix_propensity:f,hydro:i,lesk:l,mae:c,nucleotide:u,purine:d,purine_pyrimidine:d,strand:a,strand_propensity:a,taylor:m,turn:h,turn_propensity:h,zappo:j},getColor:function(e){var s=Colors.mapping[e];return void 0===s&&(s={}),s}}},{"./buried":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/buried.js","./cinema":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/cinema.js","./clustal":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/clustal.js","./clustal2":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/clustal2.js","./helix":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/helix.js","./hydrophobicity":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/hydrophobicity.js","./lesk":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/lesk.js","./mae":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/mae.js","./nucleotide":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/nucleotide.js","./purine":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/purine.js","./strand":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/strand.js","./taylor":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/taylor.js","./turn":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/turn.js","./zappo":"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/zappo.js"}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/strand.js":[function(e,s){s.exports={A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/taylor.js":[function(e,s){s.exports={A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00",B:"#fff",X:"#fff",Z:"#fff"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/turn.js":[function(e,s){s.exports={A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"}},{}],"/home/wre/dev/js/msa/node_modules/biojs-util-colorschemes/src/zappo.js":[function(e,s){s.exports={A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf",B:"#fff",X:"#fff",Z:"#fff"}},{}],"/home/wre/dev/js/msa/node_modules/extend/index.js":[function(e,s){var o,t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=function(e){"use strict";if(!e||"[object Object]"!==r.call(e))return!1;var s=t.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!s&&!n)return!1;var f;for(f in e);return f===o||t.call(e,f)};s.exports=function f(){"use strict";var e,s,t,r,i,l,c=arguments[0],u=1,d=arguments.length,a=!1;for("boolean"==typeof c?(a=c,c=arguments[1]||{},u=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});d>u;++u)if(e=arguments[u],null!=e)for(s in e)t=c[s],r=e[s],c!==r&&(a&&r&&(n(r)||(i=Array.isArray(r)))?(i?(i=!1,l=t&&Array.isArray(t)?t:[]):l=t&&n(t)?t:{},c[s]=f(a,l,r)):r!==o&&(c[s]=r));return c}},{}],"/home/wre/dev/js/msa/src/MSASource.js":[function(e,s){function o(e){return Math.min.apply(Math,e)}function t(e){return Math.max.apply(Math,e)}function r(){function e(e){for(var n,l;(n=t(r))-(l=o(r))>f;)i=e?l:n,delete s[i],r.splice(r.indexOf(i),1)}var s=[],r=[],f=n.numCachedLines,l=null;return s.set=function(s,o){clearTimeout(l);var n=s>t(r)?1:0;this[s]=o,r.push(s),this.length>f&&(l=setTimeout(e.bind(null,n),300))},Object.defineProperties(s,{lastDefinedIndex:{get:function(){return t(r)}},firstDefinedIndex:{get:function(){return o(r)}}}),s}function n(e){this.src=null,this.href=null,this.sizePromise=null,this.lineCache=r(),this.linePromises=[],this.LOCK=!1,/http/.test(e)?this.href=e:this.src=e}var f=e("./request"),l=e("extend");n.numCachedLines=3e3,n.numPrefetchLines=1e3,n.numPrefetchTrigger=.5,n.prototype.getSize=function(){var e=this.lineCache;if(this.sizePromise)return this.sizePromise;var s=f(this.href,{method:"HEAD"}).then(function(e){return{size:parseInt(e.getResponseHeader("Content-Length"),10)}}),o=f(this.href,{headers:{range:"bytes=0-10240"}}).then(function(s){for(var o,t,r,n=0,f=s.response.split("\n"),i=1,l=f[0].length+1;!f[++n].length;)l++,i++;for(o=f[n].length+1,t=f[n].match(/.* +/)[0].length;f[n].length+1===o;)r={label:f[n].substr(0,t),sequence:f[n].substr(t)},e.set(n-i,r),n++;return{labelWidth:t,lineWidth:o,sequenceWidth:o-t,offset:l}}.bind(this)),t=f(this.href,{headers:{range:"bytes=-10240"}}).then(function(e){var s=e.response.split("\n"),o=s.slice(-2)[0];return{alignment:o}});return this.sizePromise=Promise.all([s,o,t]).then(function(e){return e=l({},e[0],e[1],e[2]),e.sequenceCount=(e.size-e.offset)/e.lineWidth-2,e}),this.sizePromise},n.prototype.getAlignment=function(){return this.getSize().then(function(e){return e.alignment})},n.prototype.getCount=function(){return this.getSize().then(function(e){return e.sequenceCount})},n.prototype.getLine=function(e){var s;return(s=this.lineCache[e])?Promise.resolve(s):this.getLines(e,e,!0).then(function(e){return e[0]})},n.prototype.getLines=function(e,s,r){s=s||e;var i=this.lineCache,l=this.linePromises,c=this.href;return this.getSize().then(function(u){var d,a,m,h,j,p,b,g,x=u.labelWidth,v=u.lineWidth,y=u.sequenceCount,w=u.offset,_=[],B=[],C=[];if(e>y)return Promise.resolve(null);for(s>y&&(s=y),m=e;s>=m;m++)(a=i[m])?_.push(a):(a=l[m])?-1===C.indexOf(a)&&C.push(a):B.push(m);if(r||this.LOCK||(b=i.lastDefinedIndex-n.numPrefetchLines*n.numPrefetchTrigger,g=i.firstDefinedIndex+n.numPrefetchLines*n.numPrefetchTrigger,s>b&&i.lastDefinedIndex<y?(b=i.lastDefinedIndex,g=o([b+n.numPrefetchLines,y])):g>e&&i.firstDefinedIndex>0?(g=i.firstDefinedIndex,b=t([g-n.numPrefetchLines,0])):b=g=null,b&&(this.LOCK=!0,this.getLines(b,g,!0).then(function(){this.LOCK=!1}.bind(this)))),0===B.length&&0===C.length)return Promise.resolve(_);if(B.length>0)for(j=o(B),p=t(B),d=[w+j*v,w+(p+1)*v-2].join("-"),h=f(c,{headers:{range:"bytes="+d}}).then(function(e){e.response.split("\n").forEach(function(e,s){var o={label:e.substr(0,x),sequence:e.substr(x)};i.set(j+s,o),delete l[j+s]})}),C.push(h),m=j;p>=m;m++)l[m]=h;return Promise.all(C).then(function(){return i.slice(e,s+1)})}.bind(this))},s.exports=n},{"./request":"/home/wre/dev/js/msa/src/request.js",extend:"/home/wre/dev/js/msa/node_modules/extend/index.js"}],"/home/wre/dev/js/msa/src/request.js":[function(e,s){s.exports=function(e,s){return s=s||{},new Promise(function(o,t){var r=new XMLHttpRequest;r.open(s.method||"GET",e,!0),r.overrideMimeType("text/plain"),Object.keys(s.headers||{}).forEach(function(e){r.setRequestHeader(e,s.headers[e])}),r.onload=function(){return r.status>=400?t(r):o(r)},r.onerror=function(e){return t(e)},r.send(s.data||void 0)})}},{}]},{},["./src/index.js"]);
//# sourceMappingURL=bcn-msaview.1.0.0.min.js.map